name: doc-agent
channels:
  - conda-forge
  - defaults

dependencies:
  - python=3.10
  - pip
  - git
  - gitpython
  - numpy
  - scipy
  - scikit-learn
  - pyyaml
  - tqdm
  - rich

  - pip:
      # LangChain ecosystem
      - langchain
      - langchain-community
      - langchain-openai
      - langgraph

      # Tree-sitter (explicit python grammar)
      - tree-sitter
      - tree-sitter-languages
      - tree-sitter-python


      # Embeddings & reranking
      - sentence-transformers  # for MiniLM-L6 cross-encoder
      - rank_bm25
      - fastembed  # optional: CPU fallback if needed

      # Qdrant & API
      - qdrant-client
      - fastapi
      - uvicorn[standard]
      - celery
      - redis

      # OpenAI
      - openai
      - tiktoken

      # Utilities
      - typer
      - httpx
      - docker
      - inflection

      # Parser visualization
      - networkx
      - matplotlib

      # Development
      - python-dotenv
      - pytest
      - ruff
      
      - tiktoken

